{"version":3,"sources":["../../../../pages/test.tsx","../../../../node_modules/next/dist/esm/build/templates/pages.js","../../../../components/StatusBox.tsx","../../../../components/HavnAIPrompt.tsx","../../../../components/HavnAIButton.tsx","../../../../components/OutputCard.tsx","../../../../components/HistoryFeed.tsx","../../../../lib/havnai.ts"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { HavnAIPrompt } from \"../components/HavnAIPrompt\";\nimport { HavnAIButton } from \"../components/HavnAIButton\";\nimport { StatusBox } from \"../components/StatusBox\";\nimport { OutputCard } from \"../components/OutputCard\";\nimport { HistoryFeed, HistoryItem } from \"../components/HistoryFeed\";\nimport { submitAutoJob, fetchJob, fetchResult } from \"../lib/havnai\";\n\nconst HISTORY_KEY = \"havnai_test_history_v1\";\n\nconst MODEL_OPTIONS: { id: string; label: string }[] = [\n  { id: \"auto\", label: \"Auto (let grid choose best)\" },\n  { id: \"majicmixRealistic_v7\", label: \"majicmixRealistic_v7 · all‑round realism\" },\n  { id: \"lazymixRealAmateur_v40\", label: \"lazymixRealAmateur_v40 · phone-photo realism\" },\n  { id: \"juggernautXL_ragnarokBy\", label: \"juggernautXL_ragnarokBy · SDXL studio\" },\n  { id: \"epicrealismXL_vxviiCrystalclear\", label: \"epicrealismXL_vxviiCrystalclear · SDXL daylight\" },\n  { id: \"perfectdeliberate_v5SD15\", label: \"perfectdeliberate_v5SD15 · portraits\" },\n  { id: \"uberRealisticPornMerge_v23Final\", label: \"uberRealisticPornMerge_v23Final · glossy studio\" },\n  { id: \"triomerge_v10\", label: \"triomerge_v10 · fantasy stylized\" },\n  { id: \"unstablePornhwa_beta\", label: \"unstablePornhwa_beta · manhwa\" },\n  { id: \"disneyPixarCartoon_v10\", label: \"disneyPixarCartoon_v10 · cartoon\" },\n  { id: \"kizukiAnimeHentai_animeHentaiV4\", label: \"kizukiAnimeHentai_animeHentaiV4 · anime\" },\n];\n\nconst TestPage: React.FC = () => {\n  const [prompt, setPrompt] = useState(\"\");\n  const [jobId, setJobId] = useState<string | undefined>();\n  const [statusMessage, setStatusMessage] = useState<string | undefined>();\n  const [loading, setLoading] = useState(false);\n  const [imageUrl, setImageUrl] = useState<string | undefined>();\n  const [model, setModel] = useState<string | undefined>();\n  const [runtimeSeconds, setRuntimeSeconds] = useState<number | null>(null);\n  const [history, setHistory] = useState<HistoryItem[]>([]);\n  const [advancedOpen, setAdvancedOpen] = useState(false);\n  const [selectedModel, setSelectedModel] = useState<string>(\"auto\");\n\n  // Load history from localStorage on mount\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    try {\n      const raw = window.localStorage.getItem(HISTORY_KEY);\n      if (!raw) return;\n      const parsed = JSON.parse(raw);\n      if (Array.isArray(parsed)) {\n        setHistory(parsed);\n      }\n    } catch {\n      // ignore\n    }\n  }, []);\n\n  const saveHistory = (items: HistoryItem[]) => {\n    setHistory(items);\n    if (typeof window !== \"undefined\") {\n      window.localStorage.setItem(HISTORY_KEY, JSON.stringify(items));\n    }\n  };\n\n  const handleSubmit = async () => {\n    const trimmed = prompt.trim();\n    if (!trimmed) return;\n    setLoading(true);\n    setStatusMessage(\"Job submitted…\");\n    setImageUrl(undefined);\n    setRuntimeSeconds(null);\n    setModel(undefined);\n    setJobId(undefined);\n\n    try {\n      const id = await submitAutoJob(\n        trimmed,\n        selectedModel === \"auto\" ? undefined : selectedModel\n      );\n      setJobId(id);\n      setStatusMessage(\"Waiting for GPU node…\");\n      await pollJob(id, trimmed);\n    } catch (err: any) {\n      setStatusMessage(err?.message || \"Failed to submit job.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const pollJob = async (id: string, usedPrompt: string) => {\n    const start = Date.now();\n    let attempts = 0;\n\n    while (attempts < 120) {\n      attempts += 1;\n      try {\n        const job = await fetchJob(id);\n        const status = (job.status || \"\").toUpperCase();\n\n        if (status === \"QUEUED\") {\n          setStatusMessage(\"Job queued…\");\n        } else if (status === \"RUNNING\") {\n          setStatusMessage(\"Rendering on HavnAI node…\");\n        } else if (status === \"SUCCESS\" || status === \"COMPLETED\") {\n          setStatusMessage(\"Finalizing output…\");\n\n          // Compute runtime from timestamps if available\n          let runtime: number | null = null;\n          if (\n            typeof job.timestamp === \"number\" &&\n            typeof job.completed_at === \"number\"\n          ) {\n            runtime = Math.max(0, job.completed_at - job.timestamp);\n          }\n\n          const result = await fetchResult(id);\n          if (!result.image_url) {\n            setStatusMessage(\"Job finished, but no image was found.\");\n            return;\n          }\n\n          const resolvedUrl = result.image_url;\n          setImageUrl(resolvedUrl);\n          setRuntimeSeconds(runtime);\n          setModel(job.model);\n          setStatusMessage(\"Done.\");\n\n          const item: HistoryItem = {\n            jobId: id,\n            prompt: usedPrompt,\n            imageUrl: resolvedUrl,\n            model: job.model,\n            timestamp: Date.now(),\n          };\n          const next = [item, ...history].slice(0, 5);\n          saveHistory(next);\n          return;\n        } else if (status === \"FAILED\") {\n          setStatusMessage(\"Job failed on the grid.\");\n          return;\n        } else {\n          setStatusMessage(`Status: ${status || \"Unknown\"}`);\n        }\n      } catch (err: any) {\n        setStatusMessage(err?.message || \"Error while polling job.\");\n      }\n\n      await new Promise((resolve) => setTimeout(resolve, 1500));\n    }\n\n    const elapsed = (Date.now() - start) / 1000;\n    setStatusMessage(`Gave up after ${elapsed.toFixed(1)} seconds without completion.`);\n  };\n\n  const handleHistorySelect = (item: HistoryItem) => {\n    setImageUrl(item.imageUrl);\n    setModel(item.model);\n    setRuntimeSeconds(null);\n    setJobId(item.jobId);\n    setStatusMessage(\"Showing from history. Generate again to refresh.\");\n  };\n\n  const handleHistoryClear = () => {\n    saveHistory([]);\n    setImageUrl(undefined);\n    setModel(undefined);\n    setRuntimeSeconds(null);\n    setJobId(undefined);\n    setStatusMessage(undefined);\n  };\n\n  // Mobile nav toggle (reuse behavior from index.html)\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    const navToggle = document.getElementById(\"navToggle\");\n    const primaryNav = document.getElementById(\"primaryNav\");\n    if (!navToggle || !primaryNav) return;\n    const handler = () => {\n      primaryNav.classList.toggle(\"nav-open\");\n      navToggle.classList.toggle(\"nav-open\");\n    };\n    navToggle.addEventListener(\"click\", handler);\n    return () => navToggle.removeEventListener(\"click\", handler);\n  }, []);\n\n  return (\n    <>\n      <header className=\"site-header\">\n        <div className=\"header-inner\">\n          <a href=\"#home\" className=\"brand\">\n            <img src=\"/HavnAI-logo.png\" alt=\"HavnAI\" className=\"brand-logo\" />\n            <div className=\"brand-text\">\n              <span className=\"brand-stage\">Stage 6 → 7 Alpha</span>\n              <span className=\"brand-name\">HavnAI Network</span>\n            </div>\n          </a>\n          <button className=\"nav-toggle\" id=\"navToggle\" aria-label=\"Toggle navigation\">\n            <span />\n            <span />\n          </button>\n          <nav className=\"nav-links\" id=\"primaryNav\">\n            <a href=\"/\">Home</a>\n            <a href=\"https://joinhavn.io#how\">How It Works</a>\n            <a href=\"https://joinhavn.io#smart-routing\">Smart Routing</a>\n            <a href=\"https://joinhavn.io#rewards\">Rewards</a>\n            <a href=\"https://joinhavn.io#models\">Models</a>\n            <a href=\"http://api.joinhavn.io:5001/dashboard\" target=\"_blank\" rel=\"noreferrer\">\n              Dashboard\n            </a>\n            <a href=\"https://joinhavn.io#join\">Join Alpha</a>\n          </nav>\n        </div>\n      </header>\n\n      <main>\n        <section className=\"generator-hero\" id=\"home\">\n          <div className=\"generator-hero-inner\">\n            <p className=\"hero-kicker\">Creator Playground</p>\n            <h1 className=\"generator-hero-title\">Create Something Amazing.</h1>\n            <p className=\"generator-hero-subtitle\">\n              Type a description, optionally pick a model, and let the HavnAI grid render it using the same weighted routing as the live network.\n            </p>\n          </div>\n        </section>\n\n        <section className=\"generator-section\">\n          <div className=\"generator-card\">\n            <div className=\"generator-grid\">\n              <div className=\"generator-left\">\n                <label className=\"generator-label\" htmlFor=\"prompt\">\n                  Prompt\n                </label>\n                <HavnAIPrompt\n                  value={prompt}\n                  onChange={setPrompt}\n                  onSubmit={handleSubmit}\n                  disabled={loading}\n                />\n\n                <div className=\"generator-controls\">\n                  <HavnAIButton\n                    label=\"Generate\"\n                    loading={loading}\n                    disabled={!prompt.trim()}\n                    onClick={handleSubmit}\n                  />\n                  <button\n                    type=\"button\"\n                    className=\"generator-advanced-toggle\"\n                    onClick={() => setAdvancedOpen((v) => !v)}\n                  >\n                    {advancedOpen ? \"Hide advanced options\" : \"Show advanced options\"}\n                  </button>\n                </div>\n\n                {advancedOpen && (\n                  <div className=\"generator-advanced\">\n                    <span className=\"generator-label\">Model</span>\n                    <select\n                      value={selectedModel}\n                      onChange={(e) => setSelectedModel(e.target.value)}\n                      className=\"generator-select\"\n                    >\n                      {MODEL_OPTIONS.map((opt) => (\n                        <option key={opt.id} value={opt.id}>\n                          {opt.label}\n                        </option>\n                      ))}\n                    </select>\n                    <p className=\"generator-help\">\n                      Auto routes to the highest-performing model based on weight and pipeline. Choosing a specific model overrides auto routing for this job only.\n                    </p>\n                  </div>\n                )}\n\n                <StatusBox message={statusMessage} />\n              </div>\n\n              <div className=\"generator-right\">\n                <label className=\"generator-label\">Output</label>\n                <OutputCard\n                  imageUrl={imageUrl}\n                  model={model}\n                  runtimeSeconds={runtimeSeconds || null}\n                  jobId={jobId}\n                />\n              </div>\n            </div>\n\n            <HistoryFeed\n              items={history}\n              onSelect={handleHistorySelect}\n              onClear={handleHistoryClear}\n            />\n          </div>\n        </section>\n      </main>\n    </>\n  );\n};\n\nexport default TestPage;\n","import { PagesRouteModule } from \"next/dist/esm/server/route-modules/pages/module.compiled\";\nimport { RouteKind } from \"next/dist/esm/server/route-kind\";\nimport { hoist } from \"next/dist/esm/build/templates/helpers\";\n// Import the app and document modules.\nimport * as document from \"INNER_DOCUMENT\";\nimport * as app from \"INNER_APP\";\n// Import the userland code.\nimport * as userland from \"INNER_PAGE\";\nimport { getHandler } from \"next/dist/esm/server/route-modules/pages/pages-handler\";\n// Re-export the component (should be the default export).\nexport default hoist(userland, 'default');\n// Re-export methods.\nexport const getStaticProps = hoist(userland, 'getStaticProps');\nexport const getStaticPaths = hoist(userland, 'getStaticPaths');\nexport const getServerSideProps = hoist(userland, 'getServerSideProps');\nexport const config = hoist(userland, 'config');\nexport const reportWebVitals = hoist(userland, 'reportWebVitals');\n// Re-export legacy methods.\nexport const unstable_getStaticProps = hoist(userland, 'unstable_getStaticProps');\nexport const unstable_getStaticPaths = hoist(userland, 'unstable_getStaticPaths');\nexport const unstable_getStaticParams = hoist(userland, 'unstable_getStaticParams');\nexport const unstable_getServerProps = hoist(userland, 'unstable_getServerProps');\nexport const unstable_getServerSideProps = hoist(userland, 'unstable_getServerSideProps');\n// Create and export the route module that will be consumed.\nexport const routeModule = new PagesRouteModule({\n    definition: {\n        kind: RouteKind.PAGES,\n        page: \"/test\",\n        pathname: \"/test\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    distDir: process.env.__NEXT_RELATIVE_DIST_DIR || '',\n    relativeProjectDir: process.env.__NEXT_RELATIVE_PROJECT_DIR || '',\n    components: {\n        // default export might not exist when optimized for data only\n        App: app.default,\n        Document: document.default\n    },\n    userland\n});\nexport const handler = getHandler({\n    srcPage: \"/test\",\n    config,\n    userland,\n    routeModule,\n    getStaticPaths,\n    getStaticProps,\n    getServerSideProps\n});\n\n//# sourceMappingURL=pages.js.map\n","import React from \"react\";\n\ninterface StatusBoxProps {\n  message?: string;\n}\n\nexport const StatusBox: React.FC<StatusBoxProps> = ({ message }) => {\n  if (!message) return null;\n  return (\n    <p className=\"generator-status\">{message}</p>\n  );\n};\n","import React from \"react\";\n\ninterface HavnAIPromptProps {\n  value: string;\n  onChange: (value: string) => void;\n  onSubmit: () => void;\n  disabled?: boolean;\n}\n\nexport const HavnAIPrompt: React.FC<HavnAIPromptProps> = ({\n  value,\n  onChange,\n  onSubmit,\n  disabled,\n}) => {\n  return (\n    <div>\n      <textarea\n        rows={4}\n        value={value}\n        onChange={(e) => onChange(e.target.value)}\n        placeholder=\"Describe what you want…\"\n        className=\"generator-prompt\"\n        disabled={disabled}\n        onKeyDown={(e) => {\n          if ((e.metaKey || e.ctrlKey) && e.key === \"Enter\") {\n            e.preventDefault();\n            if (!disabled) onSubmit();\n          }\n        }}\n      />\n      <p className=\"generator-help\">\n        Press <strong>Ctrl+Enter</strong> to generate.\n      </p>\n    </div>\n  );\n};\n","import React from \"react\";\n\ninterface HavnAIButtonProps {\n  label: string;\n  loading?: boolean;\n  onClick: () => void;\n  disabled?: boolean;\n}\n\nexport const HavnAIButton: React.FC<HavnAIButtonProps> = ({\n  label,\n  loading,\n  onClick,\n  disabled,\n}) => {\n  const effectiveLabel = loading ? \"Generating…\" : label;\n  return (\n    <button\n      type=\"button\"\n      onClick={onClick}\n      disabled={disabled || loading}\n      className=\"btn primary wide\"\n    >\n      {effectiveLabel}\n    </button>\n  );\n};\n","import React from \"react\";\n\ninterface OutputCardProps {\n  imageUrl?: string;\n  model?: string;\n  runtimeSeconds?: number | null;\n  jobId?: string;\n}\n\nexport const OutputCard: React.FC<OutputCardProps> = ({\n  imageUrl,\n  model,\n  runtimeSeconds,\n  jobId,\n}) => {\n  if (!imageUrl) return null;\n  const runtimeDisplay =\n    typeof runtimeSeconds === \"number\"\n      ? runtimeSeconds.toFixed(1)\n      : undefined;\n\n  return (\n    <div className=\"generator-output-card\">\n      <img src={imageUrl} alt={jobId || \"Generated image\"} />\n\n      <div className=\"generator-output-meta\">\n        <span>\n          Generated using{\" \"}\n          <strong>{model || \"auto-selected model\"}</strong>\n        </span>\n        {runtimeDisplay && <span>{` · ${runtimeDisplay}s`}</span>}\n        {jobId && (\n          <span>{` · Job ID: `}\n            <code>{jobId}</code>\n          </span>\n        )}\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\n\nexport interface HistoryItem {\n  jobId: string;\n  prompt: string;\n  imageUrl: string;\n  model?: string;\n  timestamp: number;\n}\n\ninterface HistoryFeedProps {\n  items: HistoryItem[];\n  onSelect?: (item: HistoryItem) => void;\n  onClear?: () => void;\n}\n\nexport const HistoryFeed: React.FC<HistoryFeedProps> = ({\n  items,\n  onSelect,\n  onClear,\n}) => {\n  if (!items.length) return null;\n\n  return (\n    <div className=\"generator-history\">\n      <div className=\"generator-history-header\">\n        <h3>Your Recent Creations</h3>\n        {onClear && (\n          <button\n            type=\"button\"\n            onClick={onClear}\n            className=\"generator-history-clear\"\n          >\n            Clear\n          </button>\n        )}\n      </div>\n      <div className=\"generator-history-grid\">\n        {items.slice(0, 9).map((item) => (\n          <button\n            key={item.jobId}\n            type=\"button\"\n            onClick={() => onSelect?.(item)}\n            className=\"generator-history-thumb\"\n            title={item.prompt}\n          >\n            <img\n              src={item.imageUrl}\n              alt={item.prompt}\n            />\n          </button>\n        ))}\n      </div>\n    </div>\n  );\n};\n","import type { NextPage } from \"next\";\n\n// Simple API helper for talking to the HavnAI coordinator.\n// Uses relative URLs so it works behind whatever proxy is fronting the core.\n\nexport interface SubmitJobResponse {\n  job_id?: string;\n  status?: string;\n  error?: string;\n}\n\nexport interface JobDetail {\n  id: string;\n  status: string;\n  model: string;\n  task_type?: string;\n  timestamp?: number;\n  completed_at?: number | null;\n  reward?: number;\n  reward_factors?: Record<string, unknown>;\n  data?: any;\n}\n\nexport interface JobDetailResponse extends JobDetail {}\n\nexport interface ResultResponse {\n  job_id: string;\n  image_url?: string;\n  video_url?: string;\n  error?: string;\n}\n\n// Single source of truth for the coordinator base URL.\n// - In production you can set NEXT_PUBLIC_HAVNAI_API_BASE to \"https://api.joinhavn.io:5001\"\n// - By default we assume the frontend is behind a proxy that exposes the core at /api.\nconst API_BASE =\n  process.env.NEXT_PUBLIC_HAVNAI_API_BASE && process.env.NEXT_PUBLIC_HAVNAI_API_BASE.length > 0\n    ? process.env.NEXT_PUBLIC_HAVNAI_API_BASE\n    : \"/api\";\n\n// Wallet used when submitting jobs from the /test page.\n// Configure NEXT_PUBLIC_HAVNAI_WALLET in .env.local to point to your real EVM address.\nconst WALLET =\n  process.env.NEXT_PUBLIC_HAVNAI_WALLET && process.env.NEXT_PUBLIC_HAVNAI_WALLET.length > 0\n    ? process.env.NEXT_PUBLIC_HAVNAI_WALLET\n    : \"0x0000000000000000000000000000000000000000\";\n\nfunction apiUrl(path: string): string {\n  return `${API_BASE}${path}`;\n}\n\nfunction resolveAssetUrl(path: string | undefined | null): string | undefined {\n  if (!path) return undefined;\n  // If already absolute (http/https), return as-is.\n  if (/^https?:\\/\\//i.test(path)) return path;\n  // Otherwise, prefix with API_BASE so we hit the coordinator, not the Next dev server.\n  return `${API_BASE}${path}`;\n}\n\nexport async function submitAutoJob(\n  prompt: string,\n  modelOverride?: string\n): Promise<string> {\n  const model =\n    modelOverride && modelOverride.trim().length > 0\n      ? modelOverride.trim()\n      : \"auto\";\n\n  const body = {\n    wallet: WALLET,\n    model,\n    prompt,\n    negative_prompt: \"low quality, blurry\",\n    width: 832,\n    height: 1248,\n    steps: 40,\n    sampler: \"euler a\",\n    guidance: 6,\n    clipskip: 2,\n  };\n\n  const res = await fetch(apiUrl(\"/submit-job\"), {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(body),\n  });\n\n  if (!res.ok) {\n    const text = await res.text();\n    throw new Error(`submit-job failed: ${res.status} ${text}`);\n  }\n\n  const json = (await res.json()) as SubmitJobResponse;\n  if (!json.job_id) {\n    throw new Error(json.error || \"No job_id returned from submit-job\");\n  }\n  return json.job_id;\n}\n\nexport async function fetchJob(jobId: string): Promise<JobDetailResponse> {\n  const res = await fetch(apiUrl(`/jobs/${encodeURIComponent(jobId)}`));\n  if (!res.ok) {\n    const text = await res.text();\n    throw new Error(`fetch job failed: ${res.status} ${text}`);\n  }\n  const json = (await res.json()) as JobDetailResponse;\n  return json;\n}\n\nexport async function fetchResult(jobId: string): Promise<ResultResponse> {\n  const res = await fetch(apiUrl(`/result/${encodeURIComponent(jobId)}`));\n  if (!res.ok) {\n    const text = await res.text();\n    throw new Error(`fetch result failed: ${res.status} ${text}`);\n  }\n  const json = (await res.json()) as ResultResponse;\n  return {\n    ...json,\n    image_url: resolveAssetUrl(json.image_url),\n    video_url: resolveAssetUrl(json.video_url),\n  };\n}\n"],"names":[],"mappings":"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","ignoreList":[1]}