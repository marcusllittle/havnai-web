module.exports=[3820,a=>{"use strict";var b=a.i(9168),c=a.i(7068),d=a.i(2759),e=a.i(935),f=a.i(7298),g=a.i(8171),h=a.i(7669);let i=({value:a,onChange:b,onSubmit:c,disabled:d})=>(0,g.jsxs)("div",{children:[(0,g.jsx)("textarea",{rows:4,value:a,onChange:a=>b(a.target.value),placeholder:"Describe what you want…",className:"generator-prompt",disabled:d,onKeyDown:a=>{(a.metaKey||a.ctrlKey)&&"Enter"===a.key&&(a.preventDefault(),d||c())}}),(0,g.jsxs)("p",{className:"generator-help",children:["Press ",(0,g.jsx)("strong",{children:"Ctrl+Enter"})," to generate."]})]}),j=({label:a,loading:b,onClick:c,disabled:d})=>(0,g.jsx)("button",{type:"button",onClick:c,disabled:d||b,className:"btn primary wide",children:b?"Generating…":a}),k=({message:a})=>a?(0,g.jsx)("p",{className:"generator-status",children:a}):null,l=({imageUrl:a,model:b,runtimeSeconds:c,jobId:d})=>{if(!a)return null;let e="number"==typeof c?c.toFixed(1):void 0;return(0,g.jsxs)("div",{className:"generator-output-card",children:[(0,g.jsx)("img",{src:a,alt:d||"Generated image"}),(0,g.jsxs)("div",{className:"generator-output-meta",children:[(0,g.jsxs)("span",{children:["Generated using"," ",(0,g.jsx)("strong",{children:b||"auto-selected model"})]}),e&&(0,g.jsx)("span",{children:` \xb7 ${e}s`}),d&&(0,g.jsxs)("span",{children:[` \xb7 Job ID: `,(0,g.jsx)("code",{children:d})]})]})]})},m=({items:a,onSelect:b,onClear:c})=>a.length?(0,g.jsxs)("div",{className:"generator-history",children:[(0,g.jsxs)("div",{className:"generator-history-header",children:[(0,g.jsx)("h3",{children:"Your Recent Creations"}),c&&(0,g.jsx)("button",{type:"button",onClick:c,className:"generator-history-clear",children:"Clear"})]}),(0,g.jsx)("div",{className:"generator-history-grid",children:a.slice(0,9).map(a=>(0,g.jsx)("button",{type:"button",onClick:()=>b?.(a),className:"generator-history-thumb",title:a.prompt,children:(0,g.jsx)("img",{src:a.imageUrl,alt:a.prompt})},a.jobId))})]}):null,n="http://192.168.4.105:5001";function o(a){return`${n}${a}`}function p(a){if(a)return/^https?:\/\//i.test(a)?a:`${n}${a}`}async function q(a,b){let c=b&&b.trim().length>0?b.trim():"auto",d=await fetch(o("/submit-job"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({wallet:"0x7110347e2bcd02F5F3485Dc6bEc5e0b5f9Eb9262",model:c,prompt:a,negative_prompt:"low quality, blurry",width:832,height:1248,steps:40,sampler:"euler a",guidance:6,clipskip:2})});if(!d.ok){let a=await d.text();throw Error(`submit-job failed: ${d.status} ${a}`)}let e=await d.json();if(!e.job_id)throw Error(e.error||"No job_id returned from submit-job");return e.job_id}async function r(a){let b=await fetch(o(`/jobs/${encodeURIComponent(a)}`));if(!b.ok){let a=await b.text();throw Error(`fetch job failed: ${b.status} ${a}`)}return await b.json()}async function s(a){let b=await fetch(o(`/result/${encodeURIComponent(a)}`));if(!b.ok){let a=await b.text();throw Error(`fetch result failed: ${b.status} ${a}`)}let c=await b.json();return{...c,image_url:p(c.image_url),video_url:p(c.video_url)}}let t=[{id:"auto",label:"Auto (let grid choose best)"},{id:"majicmixRealistic_v7",label:"majicmixRealistic_v7 · all‑round realism"},{id:"lazymixRealAmateur_v40",label:"lazymixRealAmateur_v40 · phone-photo realism"},{id:"juggernautXL_ragnarokBy",label:"juggernautXL_ragnarokBy · SDXL studio"},{id:"epicrealismXL_vxviiCrystalclear",label:"epicrealismXL_vxviiCrystalclear · SDXL daylight"},{id:"perfectdeliberate_v5SD15",label:"perfectdeliberate_v5SD15 · portraits"},{id:"uberRealisticPornMerge_v23Final",label:"uberRealisticPornMerge_v23Final · glossy studio"},{id:"triomerge_v10",label:"triomerge_v10 · fantasy stylized"},{id:"unstablePornhwa_beta",label:"unstablePornhwa_beta · manhwa"},{id:"disneyPixarCartoon_v10",label:"disneyPixarCartoon_v10 · cartoon"},{id:"kizukiAnimeHentai_animeHentaiV4",label:"kizukiAnimeHentai_animeHentaiV4 · anime"}];a.s(["default",0,()=>{let[a,b]=(0,h.useState)(""),[c,d]=(0,h.useState)(),[e,f]=(0,h.useState)(),[n,o]=(0,h.useState)(!1),[p,u]=(0,h.useState)(),[v,w]=(0,h.useState)(),[x,y]=(0,h.useState)(null),[z,A]=(0,h.useState)([]),[B,C]=(0,h.useState)(!1),[D,E]=(0,h.useState)("auto");(0,h.useEffect)(()=>{},[]);let F=a=>{A(a)},G=async()=>{let b=a.trim();if(b){o(!0),f("Job submitted…"),u(void 0),y(null),w(void 0),d(void 0);try{let a=await q(b,"auto"===D?void 0:D);d(a),f("Waiting for GPU node…"),await H(a,b)}catch(a){f(a?.message||"Failed to submit job.")}finally{o(!1)}}},H=async(a,b)=>{let c=Date.now(),d=0;for(;d<120;){d+=1;try{let c=await r(a),d=(c.status||"").toUpperCase();if("QUEUED"===d)f("Job queued…");else if("RUNNING"===d)f("Rendering on HavnAI node…");else if("SUCCESS"===d||"COMPLETED"===d){f("Finalizing output…");let d=null;"number"==typeof c.timestamp&&"number"==typeof c.completed_at&&(d=Math.max(0,c.completed_at-c.timestamp));let e=await s(a);if(!e.image_url)return void f("Job finished, but no image was found.");let g=e.image_url;u(g),y(d),w(c.model),f("Done.");let h=[{jobId:a,prompt:b,imageUrl:g,model:c.model,timestamp:Date.now()},...z].slice(0,5);F(h);return}else{if("FAILED"===d)return void f("Job failed on the grid.");f(`Status: ${d||"Unknown"}`)}}catch(a){f(a?.message||"Error while polling job.")}await new Promise(a=>setTimeout(a,1500))}let e=(Date.now()-c)/1e3;f(`Gave up after ${e.toFixed(1)} seconds without completion.`)};return(0,h.useEffect)(()=>{},[]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("header",{className:"site-header",children:(0,g.jsxs)("div",{className:"header-inner",children:[(0,g.jsxs)("a",{href:"#home",className:"brand",children:[(0,g.jsx)("img",{src:"/HavnAI-logo.png",alt:"HavnAI",className:"brand-logo"}),(0,g.jsxs)("div",{className:"brand-text",children:[(0,g.jsx)("span",{className:"brand-stage",children:"Stage 6 → 7 Alpha"}),(0,g.jsx)("span",{className:"brand-name",children:"HavnAI Network"})]})]}),(0,g.jsxs)("button",{className:"nav-toggle",id:"navToggle","aria-label":"Toggle navigation",children:[(0,g.jsx)("span",{}),(0,g.jsx)("span",{})]}),(0,g.jsxs)("nav",{className:"nav-links",id:"primaryNav",children:[(0,g.jsx)("a",{href:"/",children:"Home"}),(0,g.jsx)("a",{href:"https://joinhavn.io#how",children:"How It Works"}),(0,g.jsx)("a",{href:"https://joinhavn.io#smart-routing",children:"Smart Routing"}),(0,g.jsx)("a",{href:"https://joinhavn.io#rewards",children:"Rewards"}),(0,g.jsx)("a",{href:"https://joinhavn.io#models",children:"Models"}),(0,g.jsx)("a",{href:"http://api.joinhavn.io:5001/dashboard",target:"_blank",rel:"noreferrer",children:"Dashboard"}),(0,g.jsx)("a",{href:"https://joinhavn.io#join",children:"Join Alpha"})]})]})}),(0,g.jsxs)("main",{children:[(0,g.jsx)("section",{className:"generator-hero",id:"home",children:(0,g.jsxs)("div",{className:"generator-hero-inner",children:[(0,g.jsx)("p",{className:"hero-kicker",children:"Creator Playground"}),(0,g.jsx)("h1",{className:"generator-hero-title",children:"Create Something Amazing."}),(0,g.jsx)("p",{className:"generator-hero-subtitle",children:"Type a description, optionally pick a model, and let the HavnAI grid render it using the same weighted routing as the live network."})]})}),(0,g.jsx)("section",{className:"generator-section",children:(0,g.jsxs)("div",{className:"generator-card",children:[(0,g.jsxs)("div",{className:"generator-grid",children:[(0,g.jsxs)("div",{className:"generator-left",children:[(0,g.jsx)("label",{className:"generator-label",htmlFor:"prompt",children:"Prompt"}),(0,g.jsx)(i,{value:a,onChange:b,onSubmit:G,disabled:n}),(0,g.jsxs)("div",{className:"generator-controls",children:[(0,g.jsx)(j,{label:"Generate",loading:n,disabled:!a.trim(),onClick:G}),(0,g.jsx)("button",{type:"button",className:"generator-advanced-toggle",onClick:()=>C(a=>!a),children:B?"Hide advanced options":"Show advanced options"})]}),B&&(0,g.jsxs)("div",{className:"generator-advanced",children:[(0,g.jsx)("span",{className:"generator-label",children:"Model"}),(0,g.jsx)("select",{value:D,onChange:a=>E(a.target.value),className:"generator-select",children:t.map(a=>(0,g.jsx)("option",{value:a.id,children:a.label},a.id))}),(0,g.jsx)("p",{className:"generator-help",children:"Auto routes to the highest-performing model based on weight and pipeline. Choosing a specific model overrides auto routing for this job only."})]}),(0,g.jsx)(k,{message:e})]}),(0,g.jsxs)("div",{className:"generator-right",children:[(0,g.jsx)("label",{className:"generator-label",children:"Output"}),(0,g.jsx)(l,{imageUrl:p,model:v,runtimeSeconds:x||null,jobId:c})]})]}),(0,g.jsx)(m,{items:z,onSelect:a=>{u(a.imageUrl),w(a.model),y(null),d(a.jobId),f("Showing from history. Generate again to refresh.")},onClear:()=>{F([]),u(void 0),w(void 0),y(null),d(void 0),f(void 0)}})]})})]})]})}],8362);var u=a.i(8362),v=a.i(9193);let w=(0,d.hoist)(u,"default"),x=(0,d.hoist)(u,"getStaticProps"),y=(0,d.hoist)(u,"getStaticPaths"),z=(0,d.hoist)(u,"getServerSideProps"),A=(0,d.hoist)(u,"config"),B=(0,d.hoist)(u,"reportWebVitals"),C=(0,d.hoist)(u,"unstable_getStaticProps"),D=(0,d.hoist)(u,"unstable_getStaticPaths"),E=(0,d.hoist)(u,"unstable_getStaticParams"),F=(0,d.hoist)(u,"unstable_getServerProps"),G=(0,d.hoist)(u,"unstable_getServerSideProps"),H=new b.PagesRouteModule({definition:{kind:c.RouteKind.PAGES,page:"/test",pathname:"/test",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:f.default,Document:e.default},userland:u}),I=(0,v.getHandler)({srcPage:"/test",config:A,userland:u,routeModule:H,getStaticPaths:y,getStaticProps:x,getServerSideProps:z});a.s(["config",0,A,"default",0,w,"getServerSideProps",0,z,"getStaticPaths",0,y,"getStaticProps",0,x,"handler",0,I,"reportWebVitals",0,B,"routeModule",0,H,"unstable_getServerProps",0,F,"unstable_getServerSideProps",0,G,"unstable_getStaticParams",0,E,"unstable_getStaticPaths",0,D,"unstable_getStaticProps",0,C],3820)}];

//# sourceMappingURL=node_modules_next_dist_esm_build_templates_pages_104419ba.js.map